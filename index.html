<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Widget Training</title>
  </head>

  <body>
    <div id="container"></div>
    <div id="under" class="under-overlay">
      <h1>Hello! The page is loaded!!!</h1>
    </div>

    <script>
      var dojoConfig = {
        async: true,
        dojoBlankHtmlUrl:
          location.pathname.replace(/\/[^/]+$/, "") + "/blank.html",
        packages: [
          {
            name: "widget",
            location: location.pathname.replace(/\/[^/]+$/, "") + "/widget",
          },
        ],
      };
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js"></script>
    <script>
      require([
        "dojo/dom",
        "dojo/dom-style",
        "dojo/parser",
        "widget/WidgetTraining",
        "dojo/domReady!",
      ], (dom, domStyle, parser, WidgetTraining) => {
        const container = dom.byId("container");
        const under = dom.byId("under");
        const widget = new WidgetTraining().placeAt(container);
        setTimeout(() => {
          domStyle.set(under, "display", "flex");
          widget.endLoading();
        }, 3000);
        parser.parse();
      });
    </script>
  </body>
</html>
